<!-- Teams Header -->
<section class="hero is-bold">
  <div class="hero-body">
    <div class="container">
      <h1 class="title is-1 has-text-centered has-text-black">
        üèÜ League Standings
      </h1>
      <br>
      <h2 class="subtitle has-text-centered has-text-black">
        See where your team stands in the race for the championship
      </h2>
    </div>
  </div>
</section>

<!-- Mobile Standings Table (visible on mobile/tablet) -->
<section class="section has-background-dark is-hidden-desktop">
  <div class="container">
    <div class="table-container">
      <table class="table is-bordered is-fullwidth is-striped is-hoverable">
        <thead>
          <tr>
            <th class="has-text-black">Rank</th>
            <th class="has-text-black">Team</th>
            <th class="has-text-black">Owner</th>
            <th class="has-text-black">W</th>
            <th class="has-text-black">L</th>
            <th class="has-text-black">T</th>
            <th class="has-text-black">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @teams.each_with_index do |team, index| %>
            <tr class="<%= index < 6 ? 'has-background-success-light' : 'has-background-info-light' %>">
              <td>
                <span class="tag <%= index < 6 ? 'is-success' : 'is-info' %>">#<%= index + 1 %></span>
              </td>
              <td>
                <strong class="has-text-black"><%= team.name %></strong>
              </td>
              <td class="has-text-black"><%= team.owner %></td>
              <td class="has-text-black"><%= team.wins %></td>
              <td class="has-text-black"><%= team.losses %></td>
              <td class="has-text-black"><%= team.ties %></td>
              <td>
                <a href="<%= team_path(team) %>" class="button is-small is-primary">View</a>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- Desktop Standings Table (visible only on desktop) -->
<section class="section has-background-dark is-hidden-mobile is-hidden-tablet">
  <div class="container">
    <div class="table-container">
      <table class="table is-fullwidth is-striped is-hoverable">
        <thead>
          <tr>
            <th class="has-text-black">Rank</th>
            <th class="has-text-black">Team</th>
            <th class="has-text-black">Owner</th>
            <th class="has-text-black">W</th>
            <th class="has-text-black">L</th>
            <th class="has-text-black">T</th>
            <th class="has-text-black">PCT</th>
            <th class="has-text-black">PF</th>
            <th class="has-text-black">PA</th>
            <th class="has-text-black">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @teams.each_with_index do |team, index| %>
            <tr class="<%= index < 6 ? 'has-background-success-light' : 'has-background-info-light' %>">
              <td>
                <span class="tag <%= index < 6 ? 'is-success' : 'is-info' %>">
                  #<%= index + 1 %>
                </span>
              </td>
              <td>
                <strong class="has-text-black"><%= team.name %></strong>
              </td>
              <td class="has-text-black"><%= team.owner %></td>
              <td class="has-text-black"><%= team.wins %></td>
              <td class="has-text-black"><%= team.losses %></td>
              <td class="has-text-black"><%= team.ties %></td>
              <td class="has-text-black">
                <%= number_to_percentage(team.win_percentage, precision: 1) %>
              </td>
              <td class="has-text-black"><%= number_with_precision(team.points_for, precision: 1) %></td>
              <td class="has-text-black"><%= number_with_precision(team.points_against, precision: 1) %></td>
              <td>
                <a href="<%= team_path(team) %>" class="button is-small is-primary">
                  View Details
                </a>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- Team Cards -->
<section class="section has-background-dark">
  <div class="container">
    <h2 class="title is-3 has-text-centered mb-5 has-text-white">üë• All Teams</h2>
    <div class="columns is-multiline">
      <% @teams.each_with_index do |team, index| %>
        <div class="column is-12-mobile is-6-tablet is-4-desktop">
          <div class="card <%= index < 6 ? 'has-background-warning-light' : '' %>">
            <div class="card-content">
              <div class="media">
                <div class="media-left">
                  <div class="has-text-centered">
                    <span class="tag is-large <%= index < 6 ? 'is-warning' : 'is-info' %>">
                      #<%= index + 1 %>
                    </span>
                  </div>
                </div>
                <div class="media-content">
                  <p class="title is-4 has-text-black is-truncated"><%= team.name %></p>
                  <p class="subtitle is-6 has-text-black is-truncated">Owner: <%= team.owner %></p>
                  <p class="subtitle is-6 has-text-black">
                    Record: <%= team.wins %>-<%= team.losses %><%= team.ties > 0 ? "-#{team.ties}" : "" %>
                  </p>
                  <p class="subtitle is-6 has-text-black">
                    Win %: <%= number_to_percentage(team.win_percentage, precision: 1) %>
                  </p>
                </div>
              </div>
              <div class="content mt-3">
                <div class="columns is-mobile">
                  <div class="column">
                    <p class="heading">Points For</p>
                    <p class="title is-5 has-text-success"><%= number_with_precision(team.points_for, precision: 1) %></p>
                  </div>
                  <div class="column">
                    <p class="heading">Points Against</p>
                    <p class="title is-5 has-text-danger"><%= number_with_precision(team.points_against, precision: 1) %></p>
                  </div>
                </div>
              </div>
            </div>
            <footer class="card-footer">
              <a href="<%= team_path(team) %>" class="card-footer-item">View Details</a>
            </footer>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</section>
