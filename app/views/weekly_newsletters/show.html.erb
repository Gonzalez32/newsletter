<!-- Newsletter Header -->
<section class="hero is-primary is-bold">
  <div class="hero-body">
    <div class="container">
      <h1 class="title is-1 has-text-centered has-text-white">
        📰 <%= @newsletter.title %>
      </h1>
      <h2 class="subtitle has-text-centered has-text-white">
        Week <%= @newsletter.week %>, <%= @newsletter.year %>
      </h2>
      <div class="has-text-centered">
        <p class="subtitle is-6 has-text-white">
          Published: <%= @newsletter.published_at.strftime("%B %d, %Y at %I:%M %p") %>
        </p>
        <% if @newsletter.featured %>
          <span class="tag is-warning is-medium">Featured Newsletter</span>
        <% end %>
      </div>
    </div>
  </div>
</section>

<!-- Newsletter Content -->
<section class="section has-background-dark">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="card">
          <div class="card-content">
            <div class="content has-text-black">
              <%# Convert newlines to paragraphs for better formatting %>
              <% @newsletter.content.split("\n\n").each do |paragraph| %>
                <% if paragraph.strip.present? %>
                  <p class="mb-4">
                    <%= paragraph.gsub("\n", "<br>").html_safe %>
                  </p>
                <% end %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Newsletter Stats -->
<section class="section has-background-light">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-6">
        <div class="card has-background-info-light">
          <div class="card-content">
            <div class="content has-text-centered">
              <h3 class="title is-4">Newsletter Details</h3>
              <p><strong>Week:</strong> <%= @newsletter.week %></p>
              <p><strong>Year:</strong> <%= @newsletter.year %></p>
              <p><strong>Published:</strong> <%= @newsletter.published_at.strftime("%B %d, %Y") %></p>
              <p><strong>Featured:</strong> <%= @newsletter.featured ? "Yes" : "No" %></p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="column is-6">
        <div class="card has-background-success-light">
          <div class="card-content">
            <div class="content has-text-centered">
              <h3 class="title is-4">Share This Newsletter</h3>
              <div class="buttons is-centered">
                <button class="button is-primary">
                  <span class="icon">
                    <i class="fab fa-twitter"></i>
                  </span>
                  <span>Twitter</span>
                </button>
                <button class="button is-info">
                  <span class="icon">
                    <i class="fab fa-facebook"></i>
                  </span>
                  <span>Facebook</span>
                </button>
                <button class="button is-success">
                  <span class="icon">
                    <i class="fas fa-envelope"></i>
                  </span>
                  <span>Email</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Navigation -->
<section class="section has-background-light">
  <div class="container">
    <div class="has-text-centered">
      <a href="<%= weekly_newsletters_path %>" class="button is-primary is-large">
        📰 Back to All Newsletters
      </a>
      <a href="<%= root_path %>" class="button is-info is-large">
        🏈 Back to Home
      </a>
    </div>
  </div>
</section>
