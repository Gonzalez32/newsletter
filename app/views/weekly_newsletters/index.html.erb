<!-- Newsletters Header -->
<section class="hero is-bold">
  <div class="hero-body">
    <div class="container">
      <h1 class="title is-1 has-text-centered has-text-black">
        📰 Weekly Newsletters
      </h1>
      <br>
      <h2 class="subtitle has-text-centered has-text-black">
        Your weekly dose of fantasy football humor and insights
      </h2>
    </div>
  </div>
</section>

<!-- Newsletters List -->
<section class="section has-background-dark">
  <div class="container">
    <div class="columns is-multiline">
      <% @newsletters.each do |newsletter| %>
        <div class="column is-6">
          <div class="card <%= newsletter.featured ? 'has-background-link-light' : '' %>">
            <header class="card-header">
              <p class="card-header-title">
                <%= newsletter.title %>
                <% if newsletter.featured %>
                  <span class="tag is-warning ml-2">Featured</span>
                <% end %>
              </p>
              <p class="card-header-icon">
                Week <%= newsletter.week %>, <%= newsletter.year %>
              </p>
            </header>
            <div class="card-content">
              <div class="content">
                <p class="subtitle is-6 has-text-white">
                  Published: <%= newsletter.published_at.strftime("%B %d, %Y") %>
                </p>
                <div class="content has-text-white">
                  <%= truncate(newsletter.content, length: 300) %>
                </div>
              </div>
            </div>
            <footer class="card-footer">
              <a href="<%= weekly_newsletter_path(newsletter) %>" class="card-footer-item">Read Full Newsletter</a>
              <a href="#" class="card-footer-item">Share</a>
            </footer>
          </div>
        </div>
      <% end %>
    </div>
    
    <% if @newsletters.empty? %>
      <div class="has-text-centered">
        <div class="notification is-info">
          <p class="title is-4">No newsletters yet</p>
          <p>The first newsletter will be published soon!</p>
        </div>
      </div>
    <% end %>
  </div>
</section>

<!-- Newsletter Stats -->
<section class="section has-background-light">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content has-text-centered">
          <h2 class="title is-3">Newsletter Archive</h2>
          <p class="subtitle is-5">
            We've published <%= @newsletters.count %> newsletters so far this season!
          </p>
          <div class="buttons is-centered">
            <a href="<%= root_path %>" class="button is-primary is-large">
              🏈 Back to Home
            </a>
            <a href="<%= dashboard_path %>" class="button is-info is-large">
              📊 View Dashboard
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
