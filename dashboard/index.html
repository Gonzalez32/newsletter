---
layout: default
title: Dashboard
description: Comprehensive league overview and quick stats
---

<!-- Dashboard Header -->
<section class="hero is-bold">
  <div class="hero-body">
    <div class="container">
      <h1 class="title is-1 has-text-centered">
        üìä League Dashboard
      </h1>
      <br>
      <h2 class="subtitle has-text-centered">
        Comprehensive league overview and quick stats
      </h2>
    </div>
  </div>
</section>

<!-- League Stats -->
<section class="section has-background-light">
  <div class="container">
    <h2 class="title is-3 has-text-centered mb-5">üìà League Statistics</h2>
    <div class="columns is-multiline">
      <div class="column is-3-desktop is-6-tablet is-12-mobile">
        <div class="card has-background-primary-light">
          <div class="card-content">
            <div class="content has-text-centered">
              <p class="heading">Total Newsletters</p>
              <p class="title is-2 has-text-primary" id="total-newsletters">-</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="column is-3-desktop is-6-tablet is-12-mobile">
        <div class="card has-background-success-light">
          <div class="card-content">
            <div class="content has-text-centered">
              <p class="heading">Total Teams</p>
              <p class="title is-2 has-text-success" id="total-teams">-</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="column is-3-desktop is-6-tablet is-12-mobile">
        <div class="card has-background-info-light">
          <div class="card-content">
            <div class="content has-text-centered">
              <p class="heading">Total Players</p>
              <p class="title is-2 has-text-info" id="total-players">-</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="column is-3-desktop is-6-tablet is-12-mobile">
        <div class="card has-background-warning-light">
          <div class="card-content">
            <div class="content has-text-centered">
              <p class="heading">Total Matchups</p>
              <p class="title is-2 has-text-warning" id="total-matchups">-</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Standings -->
<section class="section has-background-dark">
  <div class="container">
    <h2 class="title is-3 has-text-centered mb-5 has-text-white">üèÜ Current Standings</h2>
    <div id="standings-container">
      <div class="has-text-centered">
        <div class="notification is-info">
          <p class="title is-4">Loading standings...</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Recent Matchups -->
<section class="section has-background-dark">
  <div class="container">
    <h2 class="title is-3 has-text-centered mb-5 has-text-white">‚öîÔ∏è Recent Matchups</h2>
    <div id="recent-matchups-container">
      <div class="has-text-centered">
        <div class="notification is-info">
          <p class="title is-4">Loading recent matchups...</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Navigation -->
<section class="section has-background-light">
  <div class="container">
    <div class="has-text-centered">
              <a href="{{ '/' | relative_url }}" class="button is-primary is-large">
        üè† Back to Home
      </a>
              <a href="{{ '/teams/' | relative_url }}" class="button is-info is-large">
        üèÜ View All Teams
      </a>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Load stats
  fetch('{{ "/assets/data/stats.json" | relative_url }}')
    .then(response => response.json())
    .then(data => {
      document.getElementById('total-newsletters').textContent = data.total_newsletters || 0;
      document.getElementById('total-teams').textContent = data.total_teams || 0;
      document.getElementById('total-players').textContent = data.total_players || 0;
      document.getElementById('total-matchups').textContent = data.total_matchups || 0;
    })
    .catch(error => {
      console.log('Stats not available yet');
    });

  // Load standings
  fetch('{{ "/assets/data/teams.json" | relative_url }}')
    .then(response => response.json())
    .then(data => {
      if (data.teams && data.teams.length > 0) {
        // Sort teams by wins (descending)
        const sortedTeams = data.teams.sort((a, b) => b.wins - a.wins);
        
        const standingsHtml = sortedTeams.map((team, index) => {
          const isTop6 = index < 6;
          const rowClass = isTop6 ? 'has-background-success-light' : '';
          const rankClass = isTop6 ? 'has-text-weight-bold' : '';
          
          return `
            <tr class="${rowClass}">
              <td class="${rankClass}">${index + 1}</td>
              <td class="${rankClass}">
                <strong>${team.name}</strong>
                <br>
                <small class="has-text-grey">${team.owner}</small>
              </td>
              <td class="has-text-centered">
                <span class="tag is-success">${team.wins}</span>
                <span class="tag is-danger">${team.losses}</span>
                <span class="tag is-warning">${team.ties}</span>
              </td>
              <td class="has-text-centered ${rankClass}">${team.win_percentage}%</td>
              <td class="has-text-centered has-text-success">${team.points_for}</td>
              <td class="has-text-centered has-text-danger">${team.points_against}</td>
              <td class="has-text-centered">
                <a href="${window.location.origin}/teams/${team.slug}/" class="button is-small is-primary">View</a>
              </td>
            </tr>
          `;
        }).join('');
        
        document.getElementById('standings-container').innerHTML = `
          <div class="table-container">
            <table class="table is-fullwidth is-striped is-hoverable">
              <thead>
                <tr>
                  <th class="has-text-centered">Rank</th>
                  <th>Team</th>
                  <th class="has-text-centered">Record</th>
                  <th class="has-text-centered">Win %</th>
                  <th class="has-text-centered">PF</th>
                  <th class="has-text-centered">PA</th>
                  <th class="has-text-centered">Actions</th>
                </tr>
              </thead>
              <tbody>
                ${standingsHtml}
              </tbody>
            </table>
          </div>
        `;
      }
    })
    .catch(error => {
      document.getElementById('standings-container').innerHTML = `
        <div class="has-text-centered">
          <div class="notification is-info">
            <p class="title is-4">No teams found</p>
            <p>Teams will appear here once they're added!</p>
          </div>
        </div>
      `;
    });

  // Load recent matchups
  fetch('{{ "/assets/data/matchups.json" | relative_url }}')
    .then(response => response.json())
    .then(data => {
      if (data.matchups && data.matchups.length > 0) {
        // Show recent matchups (limit to 6 most recent)
        const recentMatchups = data.matchups.slice(0, 6);
        
        const matchupsHtml = recentMatchups.map(matchup => `
          <div class="column is-12-mobile is-6-tablet is-4-desktop">
            <div class="card matchup-card">
              <div class="card-content">
                <div class="content has-text-centered">
                  <h4 class="title is-5">Week ${matchup.week}, ${matchup.year}</h4>
                  
                  <div class="columns is-mobile">
                    <div class="column is-5">
                      <p class="title is-6">${matchup.home_team}</p>
                      <p class="title is-4 has-text-primary">${matchup.home_score}</p>
                    </div>
                    <div class="column is-2">
                      <p class="title is-6">VS</p>
                    </div>
                    <div class="column is-5">
                      <p class="title is-6">${matchup.away_team}</p>
                      <p class="title is-4 has-text-info">${matchup.away_score}</p>
                    </div>
                  </div>
                  
                  <div class="mt-3">
                    <span class="tag is-success is-medium">
                      üèÜ Winner: ${matchup.winner}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `).join('');

        document.getElementById('recent-matchups-container').innerHTML = `
          <div class="columns is-multiline">
            ${matchupsHtml}
          </div>
        `;
      } else {
        // No matchups yet
        document.getElementById('recent-matchups-container').innerHTML = `
          <div class="has-text-centered">
            <div class="notification is-info">
              <p class="title is-4">No matchups yet</p>
              <p>${data.message || 'Matchups will appear here once the season starts!'}</p>
            </div>
          </div>
        `;
      }
    })
    .catch(error => {
      document.getElementById('recent-matchups-container').innerHTML = `
        <div class="has-text-centered">
          <div class="notification is-danger">
            <p class="title is-4">Error loading matchups</p>
            <p>Please try refreshing the page.</p>
          </div>
        </div>
      `;
    });
});
</script> 